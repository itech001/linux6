<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="itech001">
        <link rel="canonical" href="www.linux6.com/cmds/cmds_manpage/fdisk/index.html">
        <link rel="shortcut icon" href="../../../favicon.ico">
        

        <title>fdisk - Linux6</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../../index.html">Linux6</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Env <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../env/virtualbox/index.html">Virtualbox</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/vim_setting/index.html">VIM_setting</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/vi/index.html">VIM_intro</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/vim_cheatsheet/index.html">VIM_cheatsheet</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/dotfiles/index.html">Dotfiles</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/alias/index.html">Alias</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/shortcut/index.html">Shortcut</a>
                        </li>
                    
                        <li >
                            <a href="../../../env/tmux/index.html">Tmux</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cmds <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../cmds_common/index.html">cmds_common</a>
                        </li>
                    
                        <li >
                            <a href="../../cmds_example/index.html">cmds_example</a>
                        </li>
                    
                        <li >
                            <a href="../../cmds_overview/index.html">cmds_man</a>
                        </li>
                    
                        <li >
                            <a href="../../find/index.html">find</a>
                        </li>
                    
                        <li >
                            <a href="../../xargs/index.html">xargs</a>
                        </li>
                    
                        <li >
                            <a href="../../grep/index.html">grep</a>
                        </li>
                    
                        <li >
                            <a href="../../sed/index.html">sed</a>
                        </li>
                    
                        <li >
                            <a href="../../awk/index.html">awk</a>
                        </li>
                    
                        <li >
                            <a href="../../for/index.html">for</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Script <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../shell/bash/index.html">Bash</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/bash_example/index.html">Bash_example</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/bash_summary/index.html">Bash_summary</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/csh/index.html">Csh</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/zsh/index.html">Zsh</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/shell_compare/index.html">Shell_compare</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/perl/index.html">Perl</a>
                        </li>
                    
                        <li >
                            <a href="../../../shell/python/index.html">Python</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dev <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../dev/git/index.html">git-tutorial</a>
                        </li>
                    
                        <li >
                            <a href="../../../dev/git_cheat_sheet/index.html">git-cheat-sheet</a>
                        </li>
                    
                        <li >
                            <a href="../../../dev/gdb/index.html">gdb</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Adv <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../adv/article/index.html">Article</a>
                        </li>
                    
                        <li >
                            <a href="../../../adv/os/index.html">OS</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQ <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../faq/common/index.html">Common</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ref <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../ref/awesome-linux-resources/README/index.html">awesome_linux</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome-shell/README/index.html">awesome_shell</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome-dotfiles/README/index.html">awesome_dotfiles</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome-devenv/README/index.html">awesome_devenv</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome-sysadmin/README/index.html">awesome_sysadmin</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome-python/README/index.html">awesome_python</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/free-programming-books/README/index.html">free_programming_book</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/Git-Cheat-Sheet/README/index.html">git_cheat_sheet</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/github-cheat-sheet/README/index.html">github_cheat_sheet</a>
                        </li>
                    
                        <li >
                            <a href="../../../ref/awesome/readme/index.html">awesome</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Rss <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../rss/linux_rss2/index.html">Linux RSS</a>
                        </li>
                    
                        <li >
                            <a href="../../../rss/github_rss2/index.html">Github RSS</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../about/about/index.html">About</a>
                        </li>
                    
                        <li >
                            <a href="../../../about/contact_form/index.html">Contact</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                 <li>
                   <a href="#" data-toggle="modal" data-target="#search_modal"><i class="fa fa-search"></i> Search</a>
                 </li>                       
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li class="disabled">
                    <a rel="prev" >
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container" id="main">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#fdisk">fdisk</a></li>
        
            <li><a href="#name">name</a></li>
        
            <li><a href="#synopsis">synopsis</a></li>
        
            <li><a href="#description">description</a></li>
        
            <li><a href="#devices">devices</a></li>
        
            <li><a href="#disk-labels">disk labels</a></li>
        
            <li><a href="#options">options</a></li>
        
            <li><a href="#bugs">bugs</a></li>
        
            <li><a href="#see-also">see also</a></li>
        
            <li><a href="#availability">availability</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="fdisk">fdisk</h1>
<h3 id="name">name</h3>
<pre><code>       fdisk - manipulate disk partition table

</code></pre>

<h3 id="synopsis">synopsis</h3>
<pre><code>       fdisk [-uc] [-b sectorsize] [-C cyls] [-H heads] [-S sects] device

       fdisk -l [-u] [device...]

       fdisk -s partition...

       fdisk -v

       fdisk -h

</code></pre>

<h3 id="description">description</h3>
<pre><code>       fdisk (in the first form of invocation) is a menu-driven program for creation and manipulation of partition tables.  It understands DOS-type partition tables and BSD- or SUN-type disklabels.

       fdisk does not understand GUID partition tables (GPTs) and it is not designed for large partitions.  In these cases, use the more advanced GNU parted(8).

       fdisk does not use DOS-compatible mode and cylinders as display units by default.  The old deprecated DOS behavior can be enabled with the '-c=dos -u=cylinders' command-line options.

       Hard disks can be divided into one or more logical disks called partitions.  This division is recorded in the partition table, found in sector 0 of the disk.  (In the BSD world one talks about `disk slices' and a `disklabel'.)

       Linux needs at least one partition, namely for its root file system.  It can use swap files and/or swap partitions, but the latter are more efficient.  So, usually one will want a second Linux partition dedicated as swap partition.  On Intel-compatible hardware, the BIOS that boots the system can often only access the first 1024 cylinders of the disk.  For this reason people with large disks often create a third partition, just a few MB large, typically mounted on /boot, to store the kernel image and a few auxiliary files needed at boot time, so as to make sure that this stuff is accessible to the BIOS.  There may be reasons of security, ease of administration and backup, or testing, to use more than the minimum number of partitions.


</code></pre>

<h3 id="devices">devices</h3>
<pre><code>       The device is usually /dev/sda, /dev/sdb or so.  A device name refers to the entire disk.  Old systems without libata (a library used inside the Linux kernel to support ATA host controllers and devices) make a difference between IDE and SCSI disks.  In such cases the device name will be /dev/hd* (IDE) or /dev/sd* (SCSI).

       The partition is a device name followed by a partition number.  For example, /dev/sda1 is the first partition on the first hard disk in the system.  See also Linux kernel documentation (the Documentation/devices.txt file).


</code></pre>

<h3 id="disk-labels">disk labels</h3>
<pre><code>       A BSD/SUN-type disklabel can describe 8 partitions, the third of which should be a `whole disk' partition.  Do not start a partition that actually uses its first sector (like a swap partition) at cylinder 0, since that will destroy the disklabel.

       An IRIX/SGI-type disklabel can describe 16 partitions, the eleventh of which should be an entire `volume' partition, while the ninth should be labeled `volume header'.  The volume header will also cover the partition table, i.e., it starts at block zero and extends by default over five cylinders.  The remaining space in the volume header may be used by header directory entries.  No partitions may overlap with the volume header.  Also do not change its type or make some filesystem on it, since you will lose the partition table.  Use this type of label only when working with Linux on IRIX/SGI machines or IRIX/SGI disks under Linux.

       A DOS-type partition table can describe an unlimited number of partitions.  In sector 0 there is room for the description of 4 partitions (called `primary').  One of these may be an extended partition; this is a box holding logical partitions, with descriptors found in a linked list of sectors, each preceding the corresponding logical partitions.  The four primary partitions, present or not, get numbers 1-4.  Logical partitions start numbering from 5.

       In a DOS-type partition table the starting offset and the size of each partition is stored in two ways: as an absolute number of sectors (given in 32 bits), and as a Cylinders/Heads/Sectors triple (given in 10+8+6 bits).  The former is OK -- with 512-byte sectors this will work up to 2 TB.  The latter has two problems.  First, these C/H/S fields can be filled only when the number of heads and the number of sectors per track are known.  And second, even if we know what these numbers should be, the 24 bits that are available do not suffice.  DOS uses C/H/S only, Windows uses both, Linux never uses C/H/S.

       If possible, fdisk will obtain the disk geometry automatically.  This is not necessarily the physical disk geometry (indeed, modern disks do not really have anything like a physical geometry, certainly not something that can be described in simplistic Cylinders/Heads/Sectors form), but it is the disk geometry that MS-DOS uses for the partition table.

       Usually all goes well by default, and there are no problems if Linux is the only system on the disk.  However, if the disk has to be shared with other operating systems, it is often a good idea to let an fdisk from another operating system make at least one partition.  When Linux boots it looks at the partition table, and tries to deduce what (fake) geometry is required for good cooperation with other systems.

       Whenever a partition table is printed out, a consistency check is performed on the partition table entries.  This check verifies that the physical and logical start and end points are identical, and that each partition starts and ends on a cylinder boundary (except for the first partition).

       Some versions of MS-DOS create a first partition which does not begin on a cylinder boundary, but on sector 2 of the first cylinder.  Partitions beginning in cylinder 1 cannot begin on a cylinder boundary, but this is unlikely to cause difficulty unless you have OS/2 on your machine.

       A sync() and an ioctl(BLKRRPART) (reread partition table from disk) are performed before exiting when the partition table has been updated.  Long ago it used to be necessary to reboot after the use of fdisk.  I do not think this is the case anymore -- indeed, rebooting too quickly might cause loss of not-yet-written data.  Note that both the kernel and the disk hardware may buffer data.


DOS 6.x WARNING
       The DOS 6.x FORMAT command looks for some information in the first sector of the data area of the partition, and treats this information as more reliable than the information in the partition table.  DOS FORMAT expects DOS FDISK to clear the first 512 bytes of the data area of a partition whenever a size change occurs.  DOS FORMAT will look at this extra information even if the /U flag is given -- we consider this a bug in DOS FORMAT and DOS FDISK.

       The bottom line is that if you use cfdisk or fdisk to change the size of a DOS partition table entry, then you must also use dd to zero the first 512 bytes of that partition before using DOS FORMAT to format the partition.  For example, if you were using cfdisk to make a DOS partition table entry for /dev/sda1, then (after exiting fdisk or cfdisk and rebooting Linux so that the partition table information is valid) you would use the command &quot;dd if=/dev/zero of=/dev/sda1 bs=512 count=1&quot; to zero the first 512 bytes of the partition.

       BE EXTREMELY CAREFUL if you use the dd command, since a small typo can make all of the data on your disk useless.

       For best results, you should always use an OS-specific partition table program.  For example, you should make DOS partitions with the DOS FDISK program and Linux partitions with the Linux fdisk or Linux cfdisk program.


</code></pre>

<h3 id="options">options</h3>
<pre><code>       -b sectorsize
              Specify the sector size of the disk.  Valid values are 512, 1024, 2048 or 4096.  (Recent kernels know the sector size.  Use this only on old kernels or to override the kernel's ideas.)  Since util-linux-2.17, fdisk differentiates between logical and physical sector size.  This option changes both sector sizes to sectorsize.

       -c[=mode]
              Specify the compatiblity mode, 'dos' or 'nondos'.  The default is non-DOS mode.  For backward compatibility, it is possible to use the option without the &lt;mode&gt; argument -- then the default is used.  Note that the optional &lt;mode&gt; argument cannot be separated from the -c option by a space, the correct form is for example '-c=dos'.

       -C cyls
              Specify the number of cylinders of the disk.  I have no idea why anybody would want to do so.

       -H heads
              Specify the number of heads of the disk.  (Not the physical number, of course, but the number used for partition tables.)  Reasonable values are 255 and 16.

       -S sects
              Specify the number of sectors per track of the disk.  (Not the physical number, of course, but the number used for partition tables.)  A reasonable value is 63.

       -h     Print help and then exit.

       -l     List the partition tables for the specified devices and then exit.  If no devices are given, those mentioned in /proc/partitions (if that exists) are used.

       -s partition...
              Print the size (in blocks) of each given partition.

       -u[=unit]
              When listing partition tables, show sizes in 'sectors' or in 'cylinders'.  The default is to show sizes in sectors.  For backward compatibility, it is possible to use the option without the &lt;units&gt; argument -- then the default is used.  Note that the optional &lt;unit&gt; argument cannot be separated from the -u option by a space, the correct form is for example '-u=cylinders'.

       -v     Print version number of fdisk program and exit.

</code></pre>

<h3 id="bugs">bugs</h3>
<pre><code>       There are several *fdisk programs around.  Each has its problems and strengths.  Try them in the order cfdisk, fdisk, sfdisk.  (Indeed, cfdisk is a beautiful program that has strict requirements on the partition tables it accepts, and produces high quality partition tables.  Use it if you can.  fdisk is a buggy program that does fuzzy things - usually it happens to produce reasonable results.  Its single advantage is that it has some support for BSD disk labels and other non-DOS partition tables.  Avoid it if you can.  sfdisk is for hackers only -- the user interface is terrible, but it is more correct than fdisk and more powerful than both fdisk and cfdisk.  Moreover, it can be used noninteractively.)

       These days there also is parted.  The cfdisk interface is nicer, but parted does much more: it not only resizes partitions, but also the filesystems that live in them.

       The IRIX/SGI-type disklabel is currently not supported by the kernel.  Moreover, IRIX/SGI header directories are not fully supported yet.

       The option `dump partition table to file' is missing.

</code></pre>

<h3 id="see-also">see also</h3>
<pre><code>       cfdisk(8), sfdisk(8), mkfs(8), parted(8), partprobe(8), kpartx(8)

</code></pre>

<h3 id="availability">availability</h3>
<pre><code>       The fdisk command is part of the util-linux package and is available from ftp://ftp.kernel.org/pub/linux/utils/util-linux/.



</code></pre>

</div>
        </div>

        <div><hr>
        <div class="container" id="footer">
        <div class="col-md-12">
            
                <p>Contact me by email:<a href=mailto:itech001@126.com>itech001@126.com</a>, Contribute your great articles or suggestions in <a href=https://github.com/itech001/linux6>github</a>.</p>
            
        </div>
        </div>
        </div>

        <script src="../../../js/prettify-1.0.min.js"></script>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/tipuesearch/tipuesearch_content.js"></script>
        <script src="../../../js/tipuesearch/tipuesearch.js"></script>
        <script src="../../../js/tipuesearch/tipuesearch_set.js"></script>
        <script src="../../../js/base.js"></script>
        <script src="../../../"></script>


<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5497b1a160364736" async="async"></script>


    <div class="modal" id="search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                   <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search words into the box below and click
                            "search".
                        </p>
                        <form role="form">
                        <div class="form-group">
                                <input type="text" class="form-control" name="q" id="tipue_search_input">
                                <button type="submit" class="btn">Search</button>
                         </div>
                    </form>
                        <div id="tipue_search_content"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
    </div>

    </body>
</html>